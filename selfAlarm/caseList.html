<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/public2.css">
	<link rel="stylesheet" href="css/caseList.css">
	<link rel="stylesheet" href="css/softkeys.css">
</head>
<body>
<div class="ds-caseSearchBox" style="display:none;">
	<!--操作步骤-->
	<div class="ds-queryProceBox" style="top:20px;">
		<div class="ds-proceBtn ds-proceHome"></div>
		<div class="ds-proceBtn ds-proce">选择服务项目</div>
		<div class="ds-proceBtn ds-proce sel">案件查询</div>
		<div class="ds-proceBtn ds-proce">打印受理书</div>
		<div class="ds-proceBtn ds-proce">完成查询</div>
	</div>
	<!--查询区域-->
	<div class="ds-searchBox">
		<!--输入框-->
		<div class="ds-inputArea clear">
			<input name="key1" class="fl" type="text">
			<p class="fl clear">
				<i class="fl"></i>
				<span class="fl">案件查询</span>
			</p>
			<span class="validate animated"></span>
		</div>
		<!--查询结果列表-->
		<table class="table mr57" style="display:none;">
			<thead>
				<tr>
					<td>案件编号</td>
					<td>案件名称</td>
					<td>文书名称</td>
					<td>批准时间</td>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>201708081818</td>
					<td>案件名称</td>
					<td>
						<a class="word" href="#">文书名称1</a>
						<a class="word" href="#">文书名称2</a>
						<a class="word" href="#">文书名称3</a>
					</td>
					<td>2017-08-09&nbsp;09:50</td>
				</tr>
			</tbody>
		</table>
		<div class="softkeys"></div>
	</div>
</div>
<script src="js/jquery-3.2.1.min.js"></script>
<script src="js/basicOpe.js"></script>
<script>
$(function(){
    firstOpen('正在跳转','.ds-caseSearchBox');
    dsKeyBoard('.softkeys',createNumArr());

    /*验证案件编号*/
function testCaseNum(){
	var bool=false;
    $('.ds-inputArea > p').on('click',function(ev){
    	ev.preventDefault();
    	dsValidate();
    });
    function dsValidate(){
    	var txtSpan=$('span.validate','.ds-inputArea'),
    		caseInput=$('input[name]','.ds-inputArea'),
    		moveArr=['bounce','flash','pulse','rubberBand','shake','swing','tada','wobble','jello'];
    	var classStr=moveArr[random(0,10)];
    	if(bool){
    		return;
    	}
    	bool=true;
    	var timer=null;
    	clearTimeout(timer);
    	timer=setTimeout(function(){
    		deleteClass(txtSpan,moveArr);
    		txtSpan.text('');	
			if(caseInput.val()===''){
				caseInput.focus();
				txtSpan.text('请输入案件编号!!!');
			}else{
				txtSpan.text('案件编号错误!!!');
			}
			txtSpan.show().addClass(classStr);
				txtSpan.fadeOut(2000,function(){
					bool=false;
				});	
    	},200);
    }
    function random(m,n){
    	return Math.floor(m+Math.random()*(n-m));
    }
    function deleteClass(obj,classArr){
    	for(var i=0;i<classArr.length;i++){
    		var objClassArr=obj.get(0).className.split(' ');
    		for(var j=0;j<objClassArr.length;j++){
    			if(objClassArr[j]===classArr[i]){
    				objClassArr.pop();
    				obj.get(0).className=objClassArr.join(' ');
    				break;
    			}
    		}
    	}
    }
}
testCaseNum();
    
});
</script>
</body>
</html>